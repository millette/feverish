<%= this.head({ medium: true, custom: ['jquery.autocomplete'], title: 'Édition' }) %>
<body>
<%
  data.active = 'new'
  var it = { paths: [ ['exercices', 'Exercices'] ] }
  if (data.doc) {
    it.title = 'Éditer exercice'
    it.last = data.doc.title
    it.paths.push('Édition')
  } else {
    it.title = 'Nouvel exercice'
    it.last = 'Création'
  }
%>
<%= this.mainmenu(data) %>
<%= this.breadcrumbs(it) %>
<% if (!data.doc) { %>
<div class="row">
  <div class="column small-12 medium-10 medium-offset-1 large-6 large-offset-3">
    <div class="callout warning">
      <p><b>N.B.:</b> N'oubliez pas de compléter l'énoncé sinon l'exercice ne sera pas créé.</p>
    </div>
  </div>
</div>
<% } %>
<div class="row">
  <div class="column small-12 medium-10 medium-offset-1 large-6 large-offset-3">
    <form method="post">
      <fieldset class="fieldset callout primary">
      <div class="row">
        <div class="small-4 column medium-6">
          <label for="titre-label" class="text-right middle">Titre</label>
        </div>
        <div class="small-8 column medium-6">
          <input type="text" id="titre-label" name="title" value="<%- data.doc && data.doc.title || '' %>" required>
        </div>
      </div>
      <div class="row">
        <div class="small-4 column medium-6">
          <label aria-describedby="descriptifHelpText" for="descriptif-label" class="text-right middle">Énoncé</label>
        </div>
        <div class="small-8 column medium-6">
          <textarea rows="10" id="descriptif-label" name="descriptif" required><%- data.doc && data.doc.descriptif || '' %></textarea>
          <p class="help-text" id="descriptifHelpText">Sélectionnez du texte pour le styler.</p>
        </div>
      </div>
      <div class="row">
        <div class="small-4 column medium-6">
          <label for="travail-label" class="text-right middle">Travail</label>
        </div>
        <div class="small-8 column medium-6">
          <input type="text" name="travail" id="travail-label" value="<%- data.doc && data.doc.travail || '' %>">
        </div>
      </div>
      <div class="row">
        <div class="small-4 column medium-6">
          <label for="theme-label" class="text-right middle">Thème</label>
        </div>
        <div class="small-8 column medium-6">
          <input type="text" name="theme" id="theme-label" value="<%- data.doc && data.doc.theme || '' %>">
        </div>
      </div>
      <div class="row">
        <div class="small-4 column medium-6">
          <label for="ponderation-label" class="text-right middle">Pondération</label>
        </div>
        <div class="small-8 column medium-6">
          <input type="number" step="any" id="ponderation-label" name="ponderation" value="<%- data.doc && data.doc.ponderation || '' %>" required>
        </div>
      </div>
      <div class="row">
        <div class="small-offset-4 small-8 medium-6 medium-offset-6 column">
          <input class="button expanded" type="submit" value="<%- data.doc ? 'Éditer' : 'Créer'  %>">
        </div>
      </div>
      </fieldset>
    </form>
  </div>
</div>
<%= this.js({ medium: true, custom: ['jquery.autocomplete.min', 'exercice'] }) %>
<p>N.B.: N'oubliez pas de compléter l'énoncé; sinon l'exercice ne se créera pas.</p>
</body>
</html>
